# üçù –ó–∞–¥–∞—á–∞ –æ–±–µ–¥–∞—é—â–∏—Ö —Ñ–∏–ª–æ—Å–æ—Ñ–æ–≤ ‚Äî –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∏—Å–ª–∞ —Ñ–∏–ª–æ—Å–æ—Ñ–æ–≤

–†–µ—à–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –∑–∞–¥–∞—á–∏ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ –º–µ—Ç–æ–¥–æ–º **–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–∏—Å–ª–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±–µ–¥–∞—é—â–∏—Ö —Ñ–∏–ª–æ—Å–æ—Ñ–æ–≤**.

> üîô –í–µ—Ç–∫–∞ `master` —Å–æ–¥–µ—Ä–∂–∏—Ç –∏—Å—Ö–æ–¥–Ω—É—é –ø–æ—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–¥–∞—á–∏ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é –ø—Ä–æ–±–ª–µ–º—ã –¥–µ–¥–ª–æ–∫–∞.

## üìñ –û –∑–∞–¥–∞—á–µ

–ü—è—Ç—å —Ñ–∏–ª–æ—Å–æ—Ñ–æ–≤ —Å–∏–¥—è—Ç –∑–∞ –∫—Ä—É–≥–ª—ã–º —Å—Ç–æ–ª–æ–º. –ö–∞–∂–¥—ã–π —Ñ–∏–ª–æ—Å–æ—Ñ —á–µ—Ä–µ–¥—É–µ—Ç **—Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è** ü§î –∏ **–ø—Ä–∏—ë–º –ø–∏—â–∏** üçΩÔ∏è.
–ú–µ–∂–¥—É –∫–∞–∂–¥–æ–π –ø–∞—Ä–æ–π —Å–æ—Å–µ–¥–Ω–∏—Ö —Ñ–∏–ª–æ—Å–æ—Ñ–æ–≤ –ª–µ–∂–∏—Ç –≤–∏–ª–∫–∞ (–≤—Å–µ–≥–æ –ø—è—Ç—å –≤–∏–ª–æ–∫).
–ß—Ç–æ–±—ã –ø–æ–µ—Å—Ç—å, —Ñ–∏–ª–æ—Å–æ—Ñ—É –Ω—É–∂–Ω—ã **–æ–±–µ** –≤–∏–ª–∫–∏ ‚Äî –ª–µ–≤–∞—è –∏ –ø—Ä–∞–≤–∞—è.

–ü—Ä–æ–±–ª–µ–º–∞: –µ—Å–ª–∏ –∫–∞–∂–¥—ã–π —Ñ–∏–ª–æ—Å–æ—Ñ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤–æ–∑—å–º—ë—Ç —Å–≤–æ—é –ª–µ–≤—É—é –≤–∏–ª–∫—É,
–Ω–∏–∫—Ç–æ –Ω–µ —Å–º–æ–∂–µ—Ç –≤–∑—è—Ç—å –ø—Ä–∞–≤—É—é ‚Äî –≤–æ–∑–Ω–∏–∫–∞–µ—Ç **–¥–µ–¥–ª–æ–∫** üîí, –∏ –≤—Å–µ —Ñ–∏–ª–æ—Å–æ—Ñ—ã –≥–æ–ª–æ–¥–∞—é—Ç.

```
          [–§–∏–ª–æ—Å–æ—Ñ 0] ü§î
         /               \
    üç¥ 0                üç¥ 1
       /                   \
[–§–∏–ª–æ—Å–æ—Ñ 4] ü§î        [–§–∏–ª–æ—Å–æ—Ñ 1] ü§î
       \                   /
    üç¥ 4                üç¥ 2
         \               /
  [–§–∏–ª–æ—Å–æ—Ñ 3] ü§î‚Äîüç¥ 3‚Äî[–§–∏–ª–æ—Å–æ—Ñ 2] ü§î
```

## üí° –†–µ—à–µ–Ω–∏–µ: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∏—Å–ª–∞ —Ñ–∏–ª–æ—Å–æ—Ñ–æ–≤

–ò–¥–µ—è: –µ—Å–ª–∏ –∑–∞ —Å—Ç–æ–ª–æ–º 5 —Ñ–∏–ª–æ—Å–æ—Ñ–æ–≤ –∏ 5 –≤–∏–ª–æ–∫, —Ç–æ –¥–µ–¥–ª–æ–∫ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ –≤—Å–µ
–ø—è—Ç–µ—Ä–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –±–µ—Ä—É—Ç –ø–æ –æ–¥–Ω–æ–π –≤–∏–ª–∫–µ. –†–µ—à–µ–Ω–∏–µ ‚Äî **–Ω–µ –¥–æ–ø—É—Å–∫–∞—Ç—å –∫ —Å—Ç–æ–ª—É
–±–æ–ª–µ–µ N-1 —Ñ–∏–ª–æ—Å–æ—Ñ–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Semaphore(4)`: –ø–æ–∫–∞ 4 —Ñ–∏–ª–æ—Å–æ—Ñ–∞
–ø—ã—Ç–∞—é—Ç—Å—è –µ—Å—Ç—å, –ø—è—Ç—ã–π –∂–¥—ë—Ç —Å–≤–æ–µ–π –æ—á–µ—Ä–µ–¥–∏. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω
–∏–∑ —Å–∏–¥—è—â–∏—Ö –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∏—Ç –æ–±–µ –≤–∏–ª–∫–∏ ‚Äî **–¥–µ–¥–ª–æ–∫ –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω**.

### üîç –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–º–∞—Ñ–æ—Ä

```
–°–µ–º–∞—Ñ–æ—Ä: 4 —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (permits)

–§–∏–ª–æ—Å–æ—Ñ 0: acquire() ‚úÖ ‚Üí –±–µ—Ä—ë—Ç –≤–∏–ª–∫–∏ ‚Üí –µ—Å—Ç ‚Üí release()
–§–∏–ª–æ—Å–æ—Ñ 1: acquire() ‚úÖ ‚Üí –±–µ—Ä—ë—Ç –≤–∏–ª–∫–∏ ‚Üí –µ—Å—Ç ‚Üí release()
–§–∏–ª–æ—Å–æ—Ñ 2: acquire() ‚úÖ ‚Üí –±–µ—Ä—ë—Ç –≤–∏–ª–∫–∏ ‚Üí –µ—Å—Ç ‚Üí release()
–§–∏–ª–æ—Å–æ—Ñ 3: acquire() ‚úÖ ‚Üí –±–µ—Ä—ë—Ç –≤–∏–ª–∫–∏ ‚Üí –µ—Å—Ç ‚Üí release()
–§–∏–ª–æ—Å–æ—Ñ 4: acquire() ‚è≥ –∂–¥—ë—Ç, –ø–æ–∫–∞ –∫—Ç–æ-—Ç–æ –Ω–µ –≤—ã–∑–æ–≤–µ—Ç release()
```

–ú–∞–∫—Å–∏–º—É–º 4 —Ñ–∏–ª–æ—Å–æ—Ñ–∞ –∫–æ–Ω–∫—É—Ä–∏—Ä—É—é—Ç –∑–∞ 5 –≤–∏–ª–æ–∫ ‚Äî –∫—Ç–æ-—Ç–æ —Ç–æ—á–Ω–æ –ø–æ–ª—É—á–∏—Ç –æ–±–µ.

### üìù –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å `master`

- **`Main.java`** ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ–±—â–∏–π `Semaphore(N-1)` –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–∞–∂–¥–æ–º—É —Ñ–∏–ª–æ—Å–æ—Ñ—É
- **`Philosopher.java`** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã `waitForSeat()` (acquire) –∏ `leaveSeat()`
  (release), –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É—é—â–∏–µ —Ä–∞–±–æ—Ç—É —Å —Å–µ–º–∞—Ñ–æ—Ä–æ–º
- **`DinnerCoordinator.java`** ‚Äî —Ü–∏–∫–ª –æ–±–µ–¥–∞ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤—ã–∑–æ–≤–∞–º–∏
  `waitForSeat()` / `leaveSeat()`

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/main/java/ru/solonchev/
‚îú‚îÄ‚îÄ Main.java                       ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, —Å–æ–∑–¥–∞—ë—Ç —Ñ–∏–ª–æ—Å–æ—Ñ–æ–≤, –≤–∏–ª–∫–∏ –∏ —Å–µ–º–∞—Ñ–æ—Ä
‚îú‚îÄ‚îÄ Constant.java                   ‚Äî –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (—Ç–∞–π–º–∏–Ω–≥–∏, —à–∞–±–ª–æ–Ω—ã)
‚îú‚îÄ‚îÄ DinnerCoordinator.java          ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ—Ç–æ–∫–∏ —Ñ–∏–ª–æ—Å–æ—Ñ–æ–≤
‚îú‚îÄ‚îÄ entity/
‚îÇ   ‚îú‚îÄ‚îÄ Philosopher.java            ‚Äî –¥—É–º–∞–µ—Ç, –∂–¥—ë—Ç –º–µ—Å—Ç–æ, –±–µ—Ä—ë—Ç –≤–∏–ª–∫–∏, –µ—Å—Ç
‚îÇ   ‚îî‚îÄ‚îÄ Fork.java                   ‚Äî —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–π —Ä–µ—Å—É—Ä—Å —Å synchronized-–¥–æ—Å—Ç—É–ø–æ–º
‚îî‚îÄ‚îÄ utility/
    ‚îú‚îÄ‚îÄ LogUtility.java             ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
    ‚îî‚îÄ‚îÄ RandomUtility.java          ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª
```

## ‚öôÔ∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ö–∞–∂–¥—ã–π —Ñ–∏–ª–æ—Å–æ—Ñ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ –∏ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —Ü–∏–∫–ª 3 —Ä–∞–∑–∞:

1. ü™ë **–ñ–¥—ë—Ç –º–µ—Å—Ç–æ –∑–∞ —Å—Ç–æ–ª–æ–º** (`semaphore.acquire()`)
2. ü§î **–î—É–º–∞–µ—Ç** —Å–ª—É—á–∞–π–Ω–æ–µ –≤—Ä–µ–º—è (10‚Äì30 –º—Å)
3. üç¥ **–ë–µ—Ä—ë—Ç –ª–µ–≤—É—é –≤–∏–ª–∫—É** (–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –≤–∏–ª–∫–∞ –∑–∞–Ω—è—Ç–∞)
4. ‚è≥ –ù–µ–º–Ω–æ–≥–æ –∂–¥—ë—Ç (100 –º—Å)
5. üç¥ **–ë–µ—Ä—ë—Ç –ø—Ä–∞–≤—É—é –≤–∏–ª–∫—É** (–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –≤–∏–ª–∫–∞ –∑–∞–Ω—è—Ç–∞)
6. üçù **–ï—Å—Ç** —Å–ª—É—á–∞–π–Ω–æ–µ –≤—Ä–µ–º—è (2000‚Äì4000 –º—Å)
7. üîì **–ö–ª–∞–¥—ë—Ç –æ–±–µ –≤–∏–ª–∫–∏** –Ω–∞ —Å—Ç–æ–ª
8. üö∂ **–û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –º–µ—Å—Ç–æ** (`semaphore.release()`)

–ë–ª–∞–≥–æ–¥–∞—Ä—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—é —á–∏—Å–ª–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±–µ–¥–∞—é—â–∏—Ö, —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ
–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ ‚Äî –ø—Ä–æ–≥—Ä–∞–º–º–∞ **–≤—Å–µ–≥–¥–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ** –±–µ–∑ –¥–µ–¥–ª–æ–∫–∞ ‚úÖ.

## üõ†Ô∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- ‚òï **Java 25**
- üì¶ **Maven**
- üîß **Lombok** ‚Äî —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- üìù **JetBrains Annotations** ‚Äî `@NotNull` –¥–ª—è null-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üöÄ –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
mvn compile exec:java -Dexec.mainClass="ru.solonchev.Main"
```

## üåø –í–µ—Ç–∫–∏

| –í–µ—Ç–∫–∞                | –û–ø–∏—Å–∞–Ω–∏–µ                                                |
|----------------------|---------------------------------------------------------|
| `master`             | –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–±–ª–µ–º—É (–ø–æ–≤–µ–¥–µ–Ω–∏–µ, —Å–∫–ª–æ–Ω–Ω–æ–µ –∫ –¥–µ–¥–ª–æ–∫—É)   |
| `ordering-resources` | ‚úÖ –†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤                 |
| `asymmetry`          | ‚úÖ –†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∞—Å–∏–º–º–µ—Ç—Ä–∏—é                              |
| `limit-philosophers` | ‚úÖ –†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∏—Å–ª–∞ –æ–±–µ–¥–∞—é—â–∏—Ö (—Å–µ–º–∞—Ñ–æ—Ä)   |

> üîú –°–æ –≤—Ä–µ–º–µ–Ω–µ–º –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –≤–µ—Ç–∫–∏, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç
> –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –æ–±–µ–¥–∞—é—â–∏—Ö —Ñ–∏–ª–æ—Å–æ—Ñ–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞—Ä–±–∏—Ç—Ä, –∞–ª–≥–æ—Ä–∏—Ç–º –ß–∞–Ω–¥–∏/–ú–∏—Å—Ä–∞ –∏ —Ç.–¥.).
